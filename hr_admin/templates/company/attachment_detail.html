{% extends 'base.html' %}

{% block title %}Attachment Detail{% endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-md-6 offset-md-3">
            <button class="btn btn-sm btn-primary" onclick="window.history.back()">Back</button>
            <br>
            <br>
            <h1 class="text-center">Attachment Details</h1>
            <br><br>
            <!-- Display attachment details -->
            <div class="mb-3">
                <strong>File Name:</strong> {{ attachment.file.name }}
            </div>
            <div class="mb-3">
                <strong>Description:</strong> {{ attachment.description }}
            </div>
            <div class="mb-3">
                <strong>Uploaded By:</strong> {{ attachment.created_by.username }}
            </div>
            <div class="mb-3">
                <strong>Upload Date:</strong> {{ attachment.uploaded_at }}
            </div>
            <br><br>
            <!-- File preview for images -->
            {% if attachment.file.name|lower|slice:'-4:' == '.png' or attachment.file.name|lower|slice:'-4:' == '.jpg' or attachment.file.name|lower|slice:'-5:' == '.jpeg' or attachment.file.name|lower|slice:'-4:' == '.gif' %}
                <img src="{{ attachment.file.url }}" alt="{{ attachment.description }}" class="img-fluid">
            {% endif %}

            <!-- File preview for PDFs -->
            {% if attachment.file.name|lower|slice:'-4:' == '.pdf' %}
                <embed src="{{ attachment.file.url }}" type="application/pdf" width="100%" height="600px">
            {% endif %}

            <!-- Link to download the attachment file -->
            <div class="mb-3">
                <a href="{{ attachment.file.url }}" download class="btn btn-primary">Download Attachment</a>
            </div>

            <!-- Add any other details you want to display -->

            <!-- Add a link to go back to the company attachments page -->
        </div>
    </div>
</div>
{% endblock %}
